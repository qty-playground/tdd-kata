# 重構階段檢查指引

檢查學生的重構階段 commit 是否符合 TDD 標準。

## 檢查項目

### 1. Commit Message 格式
- 必須包含 `done-refactor`
- 描述重構內容或說明「無需重構」

### 2. 重構內容檢查
- ✅ 改善程式碼結構或可讀性
- ✅ 消除重複程式碼
- ✅ 改善變數或函數命名
- ✅ 簡化複雜邏輯

### 3. 測試保護
- ✅ 所有測試仍然通過
- ✅ 沒有破壞現有功能
- ✅ 測試覆蓋率維持

### 4. 程式碼品質
- ✅ 程式碼更清楚易懂
- ✅ 遵循 DRY 原則
- ✅ 適當的抽象層級

### 5. 重構規模
- ✅ 小步重構，不大幅改動
- ✅ 專注單一重構目標
- ✅ 如無需重構可直接 commit 說明

### 6. Git 狀態
- ✅ Workspace clean
- ✅ 修改合理且有意義
- ⚠️ **越界檢查**：沒有新增功能或測試，純粹改善程式碼結構
- ⚠️ **必要性檢查**：每個變更都有明確的重構目的

## 不符合標準時的回應

如果檢查不通過，使用以下回應：

「起來重睡！你的重構階段不符合標準。」

「問題：[具體說明問題]」

「請執行：`git reset HEAD~1` 回到綠燈階段重新重構。」